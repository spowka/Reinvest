<div *ngIf="form" class="container-blog-post-card">
  <h2>{{header}}</h2>

  <form [formGroup]="form">

    <p *ngIf="!isArchived">Поля "Заголовок", "Дата" и "Имя в браузере" - обязательны для заполнения</p>

    <div class="input-group">
      <label>Заголовок</label>
      <input pInputText [ngClass]="{'isArchive':isArchived, 'error': hasError(f.title)}"
        [attr.disabled]="isArchived ? '' : null" formControlName="title">
    </div>
    <div class="input-group">
      <label>Имя в браузере</label>
      <input pInputText [ngClass]="{'isArchive':isArchived, 'error': hasError(f.logicalName)}"
        [attr.disabled]="isArchived || isSystem ? '' : null" formControlName="logicalName">
    </div>
    <div class="input-group">
      <label>Мета-тег Title</label>
      <input pInputText [ngClass]="{'isArchive':isArchived, 'error': hasError(f.titleTag)}"
        [attr.disabled]="isArchived ? '' : null" formControlName="titleTag">
    </div>
    <div class="input-group">
      <label>Мета-тег Description</label>
      <textarea pInputText [ngClass]="{'isArchive':isArchived, 'error': hasError(f.descriptionTag)}"
        [attr.disabled]="isArchived ? '' : null" formControlName="descriptionTag">
      </textarea>
    </div>
    <div class="input-group">
      <label>Мета-тег Keywords</label>
      <textarea pInputText [ngClass]="{'isArchive':isArchived, 'error': hasError(f.keywordsTag)}"
        [attr.disabled]="isArchived ? '' : null" formControlName="keywordsTag">
      </textarea>
    </div>
    <rs-image-upload title="Главное изображение" [image]="postImage"></rs-image-upload>
    <div class="input-group">
      <label>Краткий текст новости</label>
      <textarea pInputText [ngClass]="{'isArchive':isArchived, 'error': hasError(f.shortContent)}"
        [attr.disabled]="isArchived ? '' : null" formControlName="shortContent">
      </textarea>
    </div>
    <div class="input-group">
      <label>Содержание страницы</label>
      <ckeditor [editor]="ckeditor" formControlName="content">
      </ckeditor>
    </div>
    <div class="input-group">
      <label>Теги</label>
      <input pInputText [ngClass]="{'isArchive':isArchived, 'error': hasError(f.tags)}"
        [attr.disabled]="isArchived || isSystem ? '' : null" formControlName="tags">
    </div>
    <div class="input-group">
      <label>Дата</label>
      <div class="wrapper">
        <p-calendar [locale]="calendarLocale" dateFormat="dd.mm.yy"
          [ngClass]="{'isArchive':isArchived, 'error': hasError(f.createDate)}" [attr.disabled]="isArchived ? '' : null"
          formControlName="createDate" [readonlyInput]="true">
        </p-calendar>
      </div>
    </div>
    <div class="input-group">
      <label>Публикация</label>
      <div class="wrapper">
        <input type="checkbox" [ngClass]="{'isArchive':isArchived, 'error': hasError(f.isPublished)}"
          [attr.disabled]="isArchived ? '' : null" formControlName="isPublished">
      </div>
    </div>
    <div class="input-group" *ngIf="pageLink">
      <label>Ссылка на страницу</label>
      <div class="wrapper">
        <a href="{{pageLink}}" target="_blank">{{pageLink}}</a>
      </div>
    </div>
  </form>

  <div class="save-info">
    <button (click)="save()" class="info-button">Сохранить</button>
    <button (click)="goBack()" class="info-button">Вернуться к списку</button>
  </div>
</div>